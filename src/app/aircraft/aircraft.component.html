<div class="row">
    <div class="col-sm-12 col-md-12">
        <div class="card border-dark default-height">
            <div class="card-header fix-padding">
                <h3>
                    <i>Aircraft Details</i>
                </h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <form class="card p-2 bg-light" autocomplete="off" [formGroup]="aircraftForm">
                            <div class="row ">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label id="label">Make</label>
                                        <input type="text" name="make" id="txtMake" [(ngModel)]="make"
                                            formControlName="make" pattern="^[a-zA-Z]{1,2}-[a-zA-Z]{1,5}"
                                            [class.is-invalid]="aircraftForm.get('make').invalid && aircraftForm.get('make').touched"
                                            class="form-control form-control-sm text-left" placeholder="make" value="" required="">
                                        <!-- <small [class.d-none]="aircraftForm.get('make').valid || aircraftForm.get('make').untouched" class="text-danger"> Make is required</small> -->
                                        <!-- <div *ngIf="aircraftForm.get('make').valid || aircraftForm.get('make').untouched">
                                        <small *ngIf="aircraftForm.get('make').errors?.required" class="text-danger"> Make is required</small> 
                                        </div> -->
                                        <div *ngIf="Make.invalid || Make.touched">
                                            <small *ngIf="Make.errors?.required" class="text-danger"> Make is required</small>
                                            <small *ngIf="Make.errors?.pattern" class="text-danger"> Make not valid</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row ">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label id="label">Model</label>
                                        <input type="text" name="model" id="txtModel" [(ngModel)]="model" formControlName="model" 
                                        [class.is-invalid]="aircraftForm.get('model').invalid && aircraftForm.get('model').touched" 
                                        class="form-control form-control-sm text-left" placeholder="model" value="" required="">
                                    </div>
                                </div>
                            </div>
                            <div class="row ">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label id="label">Registration</label>
                                        <input type="text" name="registration" id="txtRegistration" [(ngModel)]="registration" 
                                        [class.is-invalid]="aircraftForm.get('registration').invalid && aircraftForm.get('registration').touched"
                                        formControlName="registration" class="form-control form-control-sm text-left" 
                                        placeholder="registration" value="" required="">
                                    </div>
                                </div>
                            </div>
                            <div class="row ">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label id="label">Location</label>
                                        <input type="text" name="location" id="txtLocation" [(ngModel)]="location"
                                        [class.is-invalid]="aircraftForm.get('location').invalid && aircraftForm.get('location').touched"
                                        formControlName="location" class="form-control form-control-sm text-left"
                                        id="location" placeholder="location" value="" required="">
                                    </div>
                                </div>
                            </div>
                            <div class="row ">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label id="label">Date</label>
                                        <input type="text" name="dateTime" id="txtDate" [(ngModel)]="date"
                                        [class.is-invalid]="aircraftForm.get('dateTime').invalid && aircraftForm.get('dateTime').touched"
                                        formControlName="dateTime" bsDatepicker [bsConfig]="datepickerConfig"
                                        class="form-control form-control-sm text-left" placeholder="date" value="" required="">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-row">
                                <label class="col-md-3">Upload Image</label>
                                <div class="col-md-9">
                                    <input type="file" id="photo" (change)="uploadFile($event)" name="photo" />
                                    <!-- <div *ngIf="imagePath">
                                    <br /> -->
                                    <!-- <img [src]="imagePath" width="100px,height=200"> -->
                                    <!-- <img [src]="createImgPath(imagePath)" alt="profile picture" style="width:60px; height:60px;"> -->
                                    <!-- </div> -->
                                </div>
                                <div class="col-md-4">
                                    <span class="upload" *ngIf="progress > 0">
                                        {{progress}}%
                                    </span>
                                    <span class="upload" *ngIf="message">
                                        {{message}}
                                    </span>
                                </div>
                            </div>
                            <input hidden="imagePath" formControlName="tempImgPath" name="tempImgPath">
                            <div class="row">
                                <div class="col-md-7"></div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <div class="btn-toolbar pull-right" role="toolbar"
                                            aria-label="Toolbar with button groups">
                                            <div class="btn-group mr-2" role="group">
                                                <button type="button" class="btn btn-outline-dark "
                                                    (click)="PostAircraft(aircraftForm.value)" [disabled]="aircraftForm.invalid">
                                                    <i class="fa fa-save"></i>&nbsp; Save</button>
                                            </div>
                                            <div class="btn-group mr-2" role="group">
                                                <button type="button" class="btn btn-outline-dark"
                                                    (click)="resetForm()">
                                                    <i class="fa fa-trash"></i>&nbsp; Clear</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-5 order-md-1">
                        <!-- <form class="card p-2 bg-light" [formGroup]="aircrafSearchtForm" > -->
                        <div class="row ">
                            <div class="col-md-12">
                                <!-- <div class="form-group"> -->
                                <label id="label">Search</label>
                                <input #input (keyup)="SearchaircraftDetails(input.value)" placeholder="search">
                                <!-- </div>   -->
                            </div>
                        </div>
                        <!-- </form> -->
                    </div>
                </div>
            </div>
            <div class="row" class="form-signin shadow p-3 mb-5 bg-white rounded">
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table datatable class="table table-center" style="text-align:Left;">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Photo</th>
                                    <th>Make</th>
                                    <th>Model</th>
                                    <th>Registraton</th>
                                    <th>Location</th>
                                    <th>Datetime</th>
                                    <th>Edit</th>
                                    <th>Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let aircraft of aircraftVM; let i = index">
                                    <td>{{i+1}}</td>
                                    <td><img [src]="createImgPath(aircraft.photoPath)" alt="profile picture" style="width:60px; height:60px;"></td>
                                    <td>{{aircraft.make}}</td>
                                    <td>{{aircraft.model}}</td>
                                    <td>{{aircraft.registration}}</td>
                                    <td>{{aircraft.location}}</td>
                                    <!-- <td><img src="{{aircraft.image}}" ></td> -->
                                    <td>{{aircraft.dateTime| date:'dd/MM/yyyy'}}</td>
                                    <!-- <td>{{aircraft.dateTime}}</td> -->
                                    <td>
                                        <img class="edit-icon" (click)="aircraftDetailsToEdit(aircraft.id)"
                                            style="width:12px; height:12px" src="../../assets/img/edit.svg" />
                                    </td>
                                    <td>
                                        <img class="edit-icon" (click)="DeleteAircraft(aircraft.id)"
                                            style="width:12px; height:12px" src="../../assets/img/delete.png" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
</div>